<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Programación en Backend</title>
    <link rel="stylesheet" href="../reveal/reset.css" />
    <link rel="stylesheet" href="../reveal/reveal.css" />
    <link rel="stylesheet" href="../reveal/theme/pawTheme.css" id="theme" />
    <link rel="stylesheet" href="../style/paw.css" id="theme" />

    <!-- Theme used for syntax highlighting of code -->
    <link
      rel="stylesheet"
      href="../reveal/plugin/highlight/monokai.css"
      id="highlight-theme"
    />
  </head>
  <body>
    <!-- Encabezado de diaspos NO TOCAR -->
    <header class="paw-encabezado">
      <img src="../images/logoPAW.svg" alt="" />
      <h2 class="paw-asignatura">PAW</h2>
      <h3 class="paw-comision">Lic. en Sistemas de Información</h3>
    </header>
    <div class="reveal">
      <div class="slides">
        <!-- Diapositiva PRESENTACION NO TOCAR -->
        <section class="paw-presentacion">
          <div class="paw-logo">
            <img src="../images/logoPAW.svg" alt="" />
          </div>
          <div class="paw-asignatura">
            <h1>PAW</h1>
          </div>
          <div class="paw-comision">
            <h2>Lic. en Sistemas de Información</h2>
          </div>
          <div class="paw-autor">
            <p class="paw-speaker">Speaker:</p>
            <p class="paw-docente">Tomás DELVECHIO</p>
            <p class="paw-docente">Santiago RICCI</p>
            <address>
              <a href="mailto:tdelvechio@unlu.edu.ar">tdelvechio@unlu.edu.ar</a>
              <a href="mailto:sricci@unlu.edu.ar">sricci@unlu.edu.ar</a>
            </address>
          </div>
          <div class="paw-tituloContenido">
            <!-- TITULO de las SLIDES -->
            <h1>Programación en Backend</h1>
          </div>
        </section>

        <section>
          <h2>Índice</h2>
          <ul>
            <li class="fragment">
              <a href="#proyectos">
                Proyectos
              </a>
            </li>
            <li class="fragment">
              <a href="#proyectos-web">
                Proyectos Web
              </a>
            </li>
            <li class="fragment">
              <a href="#backend">
                Introducción a la programación en el backend
              </a>              
            </li>
            <li class="fragment">
              <a href="#bib">
                Bibliografía
              </a>              
            </li>            
          </ul>
        </section>

        <!-- Proyectos -->
        <section id="proyectos">
          <section>
            <h2>Proyectos I</h2>
            <ul>
              <li>¿Solo código?</li>
              <li>
                En general:
                <ul>
                  <li>esfuerzo coordinado paara crear un producto, serivicio o resultado</li>
                  <li>recursos acotados: tiempo, dinero, etc.</li>
                </ul>
              </li>            
            </ul>
          </section>     
          <section>
            <h2>Proyectos II</h2>
            <ul>
              <li>Conjunto de servicios interactuando de forma coordinada entre sí para el logro de una serie de objetivo</li>
              <li>Buenas prácticas</li>
              <li>Patrones, librerías</li>
              <li>Documentación</li>
              <li>Metodologías</li>
              <li>Cultura organizacional</li>
            </ul>
          </section>     
          <section>
            <h2>DevOps I</h2>
            <img src="./images/Devops.png" alt="DevOps" />
          </section>
          <section>
            <h2>¿Qué es DevOps?</h2>            
            <ul>
              <li>¿Conjutnto de prácticas?</li>
              <li>¿Reducir la distancia entro los silos?</li>
              <li>¿Un movmiento?</li>
              <li>¿Un puesto?</li>
              <li>¿Un nombre lindo?</li>
            </ul>            
          </section>
          <section>
            <h2>¿Qué es DevOps?</h2>       
              <p>Metodología de trabajo con el objetivo de construir software</p>
              <ul>
                <li>seguro</li>
                <li>resilente</li>
                <li>lo más rápido posible</li>
                <li>a gran escala</li>
                <li>en un entorno cambiante</li>
                <li>que genere valor</li>
              </ul>            
          </section>      
          <section>
            <h2>Desarollo</h2>  
            <img src="./images/dev.png" alt="Desarollo" />                   
          </section>                      
          <section>
            <h2>Operaciones</h2>                     
            <img src="./images/ops.png" alt="Operaciones" />  
          </section>                      
          <section>
            <h2>Producto y procesos</h2>                     
            <img src="./images/workflow.png" alt="Workflow" />  
          </section>                      
          <section>
            <h2>Cultura</h2>                     
            <img src="./images/culture.png" alt="cultura" />
          </section>               
        </section>

        <!-- Proyectos Web -->
        <section id="proyectos-web">
          <section>
            <h2>Arquitectura clásica de una aplicación web</h2>
            <img src="./images/stack.jpg" alt="Arquitectura web">
          </section>
          <section>
            <h2>Ejemplos de Stacks</h2>
            <ul>
              <li>LAMP = Linux + Apache + MySQL + PHP</li>
              <li>WAMP = Windows + Apache + MySQL + PHP</li>
              <li>MEAN = Mongo DB + ExpressJS + AngularJS + NodeJS</li>
              <li>ROR = Ruby on Rails</li>
              <li>JAMStack = JavaScript + API + Markup</li>
            </ul>
          </section>
          <section>
            <h2>En el front-end...</h2>
            <img src="./images/frontend.png" alt="JS Frameworks">
          </section>   
          <section>
            <h2>Todo al final se reduce en...</h2>
            <div>
              <img src="./images/http-request-response-headers.png" alt="HTTP">
            </div>            
            <small>Fuente: <a href="https://kennyalmendral.github.io/php-request-response-cycle/">https://kennyalmendral.github.io/php-request-response-cycle/</a></small>
          </section>
          <section>
            <h2>Desde el otro nivel</h2>
            <img src="./images/php-request-response.png" alt="HTTP">
          </section>       
        </section>

        <!-- Backend -->
        <section id="backend">
          <section>
            <h1>Introducción a la programación en el backend</h1>
          </section>            
          <section>
            <h2>Stack</h2>
            <ul>
              <li>Linux: paquetes <code>apache2, mysql-server, php, libapache2-mod-php, php-mysql</code></li>
              <li>Windows: WAMP, XAMMP, ...</li>
              <li>OSX: Apache y PHP preinstalado. Descargar MySQL.</li>
            </ul>
          </section>     
          <section>
            <h2>IDE/Editor de texto</h2>
            <ul>
              <li>Visual Studio Code</li>
              <li>WebStorm</li>
              <li>Netbeans</li>
              <li>Sublime</li>
              <li>Eclipse</li>
              <li>...</li>
            </ul>
          </section>    
          <section>
            <h2>Probamos...</h2>
            <code>http://localhost</code>
          </section>                          
          <section>
            <h2>PHP</h2>
            <ul style="font-size: 0.8em;">
              <li>PHP = PHP Hypertext Preprocessor (antes Personal Home Page Tools)</li>              
              <li>Creado por Rasmus Lerdorf</li>
              <li>Multiparadigma</li>
              <li>Tipado dinmico, débil.</li>              
              <li>Orientado principalmente a la generación de contenido Web dinámico</li>              
              <li>Herramientas y API orientada a esta tarea.</li>
              <li>Multiplataforma</li>
              <li>Sintaxis inspirada en Perl y C.</li>
              <li>Interpretado</li>
            </ul>
          </section>       
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Hola mundo!</h3>
            <pre>
              hello-world.php
              <code>
                &lt;?php
                  echo "¡Hola Mundo!";
              </code>
            </pre>            
          </section> 
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Ejecutamos...</h3>
            <code>http://localhost/hello-world.php</code>           
          </section>    
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Otro hola mundo...</h3>   
            <pre>
              hello-world-html.php
              <code>
                &lt;!DOCTYPE HTML&gt;
                &lt;html&gt;
                    &lt;head&gt;
                        &lt;title&gt;Ejemplo&lt;/title&gt;
                    &lt;/head&gt;
                    &lt;body&gt;
                        &lt;?php
                            echo &quot;&iexcl;Hola Mundo!&quot;;
                        ?&gt;
                    &lt;/body&gt;
                &lt;/html&gt;
              </code>
            </pre>                      
          </section>  
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Ejecutamos...</h3>
            <code>http://localhost/hello-world-html.php</code>           
          </section>      
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Ejecutamos vía consola</h3>
            <pre>
              <code>
                $ php hello-world-html.php
                &lt;!DOCTYPE HTML&gt;
                &lt;html&gt;
                    &lt;head&gt;
                        &lt;title&gt;Ejemplo&lt;/title&gt;
                    &lt;/head&gt;
                    &lt;body&gt;
                        &iexcl;Hola Mundo!
                    &lt;/body&gt;
                &lt;/html&gt;
              </code>           
            </pre>            
          </section>    
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Ejecutamos vía webserver de desarollo</h3>
            <pre>
              <code>
                $ php -S localhost:8888
                PHP 7.2.7-1 Development Server started at Thu Jul 19 19:59:26 2018
                Listening on http://localhost:8888
                Document root is /var/www/html/
                Press Ctrl-C to quit.
                [Thu Jul 19 20:01:19 2018] 127.0.0.1:59142 [404]: /robots.txt - No such file or directory
                [Thu Jul 19 20:01:19 2018] 127.0.0.1:59144 [404]: / - No such file or directory
                [Thu Jul 19 20:01:19 2018] 127.0.0.1:59146 [404]: /favicon.ico - No such file or directory
                [Thu Jul 19 20:01:19 2018] 127.0.0.1:59148 [404]: /favicon.ico - No such file or directory
                [Thu Jul 19 20:01:36 2018] 127.0.0.1:59150 [200]: /hello-world-html.php
              </code>           
            </pre>            
          </section>  
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Elementos del lenguaje</h3>
              <ul style="font-size: 0.6em;">
                <li>
                  Variables
                  <ul>
                    <li>Definición</li>
                    <li>
                      Tipos de datos básicos
                      <ul>
                        <li>Operadores</li>
                      </ul>
                    </li>
                    <li>
                      Tipos de datos estructurados
                      <ul>
                        <li>array</li>
                        <li>array asociativos</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>Estructuras de control</li>
                <li>Funciones</li>
                <li>Clases</li>
                <li>Enumeraciones</li>
              </ul>            
          </section>    
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Elementos del lenguaje - código</h3>
            <pre>
              <code>
                &lt;?php

                # Definicion de Variables
                $variable_entera = 5 ;
                $variable_float = 10.5 ;
                echo $variable_entera, $variable_float ; // imprime variable por stdin

                # No se definen tipos de datos
                $variable_sin_tipo = 5 ;
                $variable_sin_tipo = 5.1 ;

                # Operadores
                $suma = $variable_entera + $variable_sin_tipo ;
                $resta = 5 - 5 ;
                $multiplicacion = 2 * 5 ;
                $division = 6 / 2 ;
                echo $suma ;

                /**
                *  Strings
                */
                $nombre = &quot;Tomas&quot;;
                $str1 = &quot;Hola PAW 2020&quot;;
                $str2 = 'Hola PAW 2020';
                $str3 = &quot;Mi nombre es &quot; . $nombre . &quot;. Mucho gusto.&quot;; // concatenar strings
                $str4 = &quot;Mi nombre es $nombre. Mucho gusto.&quot;; // string formateado
                $str4 = 'Mi nombre es $nombre. Mucho gusto.'; // no funciona con comillas simples

                // booleanos
                $valor_bool = true ; // false
                $resultado_booelano = 5 == 4;
                $operadores = true || false &amp;&amp; (true &amp;&amp; false);
                $operadores = $valor_bool ||
                    $resultado_booelano &amp;&amp;
                    (6 &gt;= 5 || $valor_bool);

                /**
                *  Arreglos y arreglso asociativos
                */
                $lista_de_cosas = array(&quot;texto&quot;, 4, 5, array(&quot;mas texto&quot;, 10.5), true);
                // Otra forma de declarar el mismo array
                $lista_de_cosas = [&quot;texto&quot;, 4, 5, [&quot;mas texto&quot;, 10.5], true];
                // y en multiples lineas para mas legible
                $lista_de_cosas = [
                    &quot;texto&quot;,
                    4,
                    5,
                    [
                        &quot;mas texto&quot;,
                        10.5
                    ],
                    true
                ];
                // array asociativo (o hash o diccionario)
                $assoc_array = [
                    2 =&gt; 'dos',
                    5 =&gt; 'cinco',
                    'seis' =&gt; 6,
                    'ocho' =&gt; [
                        1, 2, 3, 4, 5, 6, 7, 8
                    ]
                ];
                // asignacion en array
                $numeros = [];
                $numeros[1] = 'uno';
                $numeros[2] = 'dos';
                $numeros[3] = 'tres';
                $numeros[4] = 'cuatro';


                /**
                * Estructuras de control
                */
                $dato_de_aplicacion = rand(1, 10) ; // funcion y asignacion
                // if ... else if ... else
                if ($dato_de_aplicacion &lt;= 5) {
                    echo &quot;Es menor a 5&quot;;
                } else if (is_integer($dato_de_aplicacion)) {
                    echo &quot;Es un entero mayor que 5&quot;;
                } else {
                    echo &quot;Es otra cosa&quot;;
                }

                // for
                echo &quot;\n\nRepeticiones\n&quot;;
                $repeticiones = [];
                for ($index=0; $index &lt; 1000; $index++) {
                    $random = rand(0, 10);
                    //$repeticiones[$random] += 1 ;
                    $repeticiones[$random] = $repeticiones[$random] + 1 ;
                    // Lo anterior funciona pero no es correcto, que falta?
                }
                print_r($repeticiones);

                // tambien hay while similar al resto de los lenguajes
                // mas interesante es el foreach
                $productos = [
                    &quot;m&quot; =&gt; &quot;mate&quot;,
                    &quot;c&quot; =&gt; &quot;cafe&quot;,
                    &quot;h&quot; =&gt; &quot;harina&quot;,
                    &quot;p&quot; =&gt; &quot;palmitos&quot;
                ];
                echo &quot;&lt;select name='productos'&gt;&quot;;
                foreach ($productos as $clave =&gt; $valor) {
                    echo &quot;&lt;option value='$clave'&gt;$valor&lt;/option&gt;&quot;;
                }
                echo &quot;&lt;/select&gt;&quot;;

                // podemos definir funciones
                function sumar($valor1, $valor2)
                {
                    return $valor1 + $valor2 ;
                }

                // y clases
                class MiClase extends OtraClase implements Interfaz {
                    private $propiedad;

                    public function __construct(){
                        ...
                    }

                    public function metodo($parametro){
                        ...
                    }
                }
              </code>           
            </pre>            
          </section>    
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Errores comunes</h3>
            <div style="display: flex; align-items: flex-start;">
              <ul>
                <li>Mezclar código HTML y PHP (Short tags <code>&lt;?=</code> y <code>?&gt;</code>) </li>
                <li>Acceso a superglobales</li>
                <li>Filtrado y sanitización de las entradas de usuarios (<code>filter_var()</code> y <code>filter_input(), filter_var(), ...</code>)</li>
                <li>Separación de responsabilidades (MVC, patrones de diseño, etc.)</li>
              </ul>
              <img src="./images/design_patterns.jpg">
            </div>      
          </section>    
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Spaghetti Code</h3>
            <p>
              Característica que reúne el código fuente que por diversos
               motivos hace que exista un montón de problemas a la hora 
               de seguir su lógica, arreglar errores o agregar funcionalidad
            </p> 
          </section>              
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Spaghetti Code - Indicios</h3>
            <ul>              
              <li>Un único archivo reúne todo el procesamiento y construcción de vista</li>
              <li>No hay modularidad (sin funciones, sin objetos, sin librerías)</li>
              <li>No hay clara separación de conceptos</li>
              <li>Formato de código inconsistente</li>
            </ul> 
          </section>   
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Refactoring</h3>
            <div style="display: flex;">                            
              <div>
                <p>
                  Es el proceso de modificar sistemáticamente el código fuente 
                  sin afectar la funcionalidad que ofrece el mismo pero 
                  reduciendo su complejidad o clarificando y modularizando 
                  adecuadamente
                </p>
                <p style="font-weight: bold;">
                  En algunas metodologías (como XP) la refactorización es 
                  parte integral del proceso y es una de las maneras que 
                  permite manejar la deuda tecnica en relación al código 
                  fuente
                </p>
              </div>              
              <div>
                <img src="./images/refactoringBook.jpg" />              
                <small>
                  Fowler, M., Beck, K., Brant, J., Opdyke, W., & Roberts, D. (1999). 
                  Refactoring: improving the design of existing code. Addison-Wesley 
                  Professional.
                </small>                
              </div>              
            </div> 
          </section>        
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Refactoring - Ejemplo</h3>
            <pre>
              <code>
                &lt;!DOCTYPE html&gt;
                &lt;html&gt;
                &lt;head&gt;
                    &lt;title&gt;Vista&lt;/title&gt;
                &lt;/head&gt;

                &lt;?php

                $productos = [
                    &quot;mate&quot;,
                    &quot;cafe&quot;,
                    &quot;harina&quot;,
                    &quot;palmitos&quot;
                ];

                $cantidades = [4, 5, 2, 3];

                ?&gt;

                &lt;body&gt;
                    &lt;ul&gt;
                    &lt;?php 
                        foreach ($productos as $k =&gt; $producto) {
                            echo &quot;&lt;li&gt;&quot; . ucfirst($producto);
                            if (isset($_GET['mostrar_cantidades'])) {
                                echo &quot; &quot; . $cantidades[$k];
                            }
                            echo &quot;&lt;/li&gt;&quot;;
                        }
                    ?&gt;
                    &lt;/ul&gt;
                &lt;/body&gt;
                &lt;/html&gt;
              </code>
            </pre>            
          </section>       
          <section>
            <h2>Primeros pasos en PHP</h2>
            <h3>Refactoring - Ejemplo</h3>
            <div style="display: flex;">
              <div style="width: 50vw;">
                <pre>
                  <code>
                    &lt;?php

                    $productos = [
                        &quot;mate&quot;,
                        &quot;cafe&quot;,
                        &quot;harina&quot;,
                        &quot;palmitos&quot;
                    ];

                    $cantidades = [4, 5, 2, 3];

                    $mostrarCantidad = isset($_GET['mostrar_cantidades']);

                    require &quot;index.view.php&quot;;                  
                  </code>
                </pre> 
              </div> 
              <div style="width: 50vw;">
                <pre>
                  <code>
                    &lt;!DOCTYPE html&gt;
                    &lt;html&gt;
                    &lt;head&gt;
                        &lt;title&gt;Vista&lt;/title&gt;
                    &lt;/head&gt;
                    &lt;body&gt;
                        &lt;ul&gt;
                        &lt;?php foreach ($productos as $idx =&gt; $producto) : ?&gt;
                            &lt;li&gt;
                                &lt;?= ucfirst($producto) ?&gt;
                                &lt;?= $mostrarCantidad ? &quot; ${cantidades[$idx]}&quot; : &quot;&quot; ?&gt;
                            &lt;/li&gt;
                        &lt;?php endforeach; ?&gt;
                        &lt;/ul&gt;
                    &lt;/body&gt;
                    &lt;/html&gt;
                  </code>
                </pre>
              </div>                        
            </div>            
          </section>                                                                         
        </section>
        <!-- Backend -->
        <section id="bib">
          <section>
            <h1>Bibliografía</h1>
            <p>Butler, T., & Yank, K. (2017). <cite>PHP & MySQL: Novice to Ninja: Get Up to Speed With PHP the Easy Way</cite>. SitePoint. Capítulos 1, 2, 6 y 8</p>
            <p>Fowler, M.; Rice, D.; Foemmel, M.; Hieatt, E.; Mee, R.; Staffor, R.; 2002. <cite>Patterns of Enterprise Application Architecture</cite>. s.l. 2002. Addison Wesley, 0-321-12742-0. Capítulo 4.</p>
            <p>Fowler, M.; 2018. <cite>Refactoring: improving the design of existing code</cite>. Addison-Wesley Professional. Capítulo 3.</p>
            <a href="https://www.php.net">https://www.php.net</a>
          </section>   
        </section>
      </div>
    </div>

    <script src="../reveal/reveal.js"></script>
    <script src="../reveal/plugin/zoom/zoom.js"></script>
    <script src="../reveal/plugin/notes/notes.js"></script>
    <script src="../reveal/plugin/search/search.js"></script>
    <script src="../reveal/plugin/markdown/markdown.js"></script>
    <script src="../reveal/plugin/highlight/highlight.js"></script>
    <script>
      Reveal.initialize({
        controls: true,
        progress: true,
        center: true,
        hash: true,
        width: 1920,
        height: 1080,
        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [
          RevealZoom,
          RevealNotes,
          RevealSearch,
          RevealMarkdown,
          RevealHighlight,
        ],
      });

      //Configuro el Plugin Highlight para que los tab se reemplacen por 2 espacios
      Reveal.getPlugin("highlight").hljs.configure({
        tabReplace: "  ",
      });

      Reveal.on("slidechanged", (event) => {
        document.querySelector(".paw-comision").innerHTML =
          // pregunto si la presentacion tiene subtitulo
          document.querySelector(".paw-presentacion .paw-tituloContenido h2")
            ? //Si tiene lo incorporo a la cabecera de la slide
              // Titulo | Subtitulo
              [
                document.querySelector(
                  ".paw-presentacion .paw-tituloContenido h1"
                ).textContent,
                " | ",
                document.querySelector(
                  ".paw-presentacion .paw-tituloContenido h2"
                ).textContent,
              ].join(" ")
            : //Sino solo uso el titulo
              document.querySelector(
                ".paw-presentacion .paw-tituloContenido h1"
              ).textContent;
      });
    </script>
  </body>
</html>
